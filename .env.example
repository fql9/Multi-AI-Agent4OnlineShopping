# ============================================================
# Multi-AI-Agent Shopping System - Environment Configuration
# ============================================================
# å¤åˆ¶æ­¤æ–‡ä»¶ä¸º .env å¹¶å¡«å†™å®é™…å€¼
# Copy this file to .env and fill in actual values
# ============================================================

# ----------------------------------------
# ğŸŒ Environment Mode
# ----------------------------------------
# Options: development, production
APP_ENV=development

# ----------------------------------------
# ğŸ—„ï¸ PostgreSQL Database
# ----------------------------------------
POSTGRES_USER=agent
POSTGRES_PASSWORD=agent_dev_password
POSTGRES_DB=agent_db
# External port (host machine access) - ä½¿ç”¨é«˜ç«¯å£é¿å…ä¸ç³»ç»ŸæœåŠ¡å†²çª
POSTGRES_PORT=25432

# ----------------------------------------
# ğŸ”´ Redis Cache
# ----------------------------------------
REDIS_PASSWORD=redis_dev_password
# External port (host machine access)
REDIS_PORT=26379

# ----------------------------------------
# ğŸ”§ Service Ports (External / Host Machine)
# ----------------------------------------
# ä½¿ç”¨ 28xxx ç³»åˆ—é«˜ç«¯å£ï¼Œé¿å…ä¸ç³»ç»ŸæœåŠ¡å†²çª
TOOL_GATEWAY_PORT=28000
CORE_MCP_PORT=28001
CHECKOUT_MCP_PORT=28002
AGENT_PORT=28003
WEB_APP_PORT=28004

# ----------------------------------------
# ğŸ”‘ OpenAI API Configuration (Required)
# ----------------------------------------
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1

# Model selection (æ¨èä½¿ç”¨ gpt-4oï¼Œmini æ¨¡å‹å¤„ç†å¤æ‚ Schema å®¹æ˜“å‡ºé”™)
OPENAI_MODEL_PLANNER=gpt-4o
OPENAI_MODEL_VERIFIER=gpt-4o

# ----------------------------------------
# ğŸ’° Token Budget
# ----------------------------------------
TOKEN_BUDGET_TOTAL=50000
TOKEN_BUDGET_PER_STEP=5000

# ----------------------------------------
# ğŸ“¦ XOOBAY API (Product Data Source)
# ----------------------------------------
# é»˜è®¤å¼€å¯ï¼Œç¡®ä¿å•†å“æœç´¢æ­£å¸¸å·¥ä½œ
# å¦‚éœ€å…³é—­ï¼Œè¯·å°† XOOBAY_ENABLED è®¾ä¸º false
XOOBAY_ENABLED=true
XOOBAY_API_KEY=your_xoobay_api_key
XOOBAY_BASE_URL=https://www.xoobay.com
XOOBAY_LANG=en

# ----------------------------------------
# ğŸŒ CORS Configuration
# ----------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:28004

# For production, use your actual domain:
# CORS_ORIGINS=https://yourdomain.com

# ----------------------------------------
# ğŸš¦ Rate Limiting (Tool Gateway)
# ----------------------------------------
# âš ï¸ é‡è¦ï¼šé™æµä¼šå½±å“ /health å¥åº·æ£€æŸ¥ï¼
#
# ã€å¼€å‘ç¯å¢ƒæ¨èã€‘å…³é—­é™æµï¼Œé¿å… UI/å¥åº·æ£€æŸ¥è¢« 429 å¹²æ‰°
RATE_LIMIT_ENABLED=false
#
# ã€ç”Ÿäº§ç¯å¢ƒæ¨èã€‘å¼€å¯é™æµï¼Œä½†é˜ˆå€¼è¦è¶³å¤Ÿé«˜
# éœ€è¦è¦†ç›–ï¼šç›‘æ§ + è´Ÿè½½å‡è¡¡å¥åº·æ£€æŸ¥ + æ­£å¸¸ç”¨æˆ·è¯·æ±‚å³°å€¼
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_MAX=1000
# RATE_LIMIT_WINDOW=60000
#
# å½“å‰è®¾ç½®ï¼ˆå¼€å‘ç¯å¢ƒä¸ç”Ÿæ•ˆï¼Œä½†ä¿ç•™ä¾›å‚è€ƒï¼‰
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=60000

# ----------------------------------------
# ğŸ”„ Session Configuration
# ----------------------------------------
SESSION_TTL_HOURS=24

# ----------------------------------------
# ğŸ›ï¸ Feature Flags
# ----------------------------------------
# Set to true to use mock tools instead of real API calls
MOCK_TOOLS=false

# Enable RAG (Retrieval-Augmented Generation)
ENABLE_RAG=true

# ----------------------------------------
# ğŸ“Š Logging
# ----------------------------------------
# Options: debug, info, warn, error
# å¼€å‘ç¯å¢ƒå»ºè®® debugï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®® info
LOG_LEVEL=debug

# ----------------------------------------
# ğŸ”§ Development Tools (Optional)
# ----------------------------------------
# Adminer (Database UI) - http://localhost:28080
ADMINER_PORT=28080

# Redis Commander - http://localhost:28081
REDIS_COMMANDER_PORT=28081

# ----------------------------------------
# ğŸŒ Frontend Configuration
# ----------------------------------------
# URL for the frontend to access backend services
# These should match the external ports above
NEXT_PUBLIC_TOOL_GATEWAY_URL=http://localhost:28000
NEXT_PUBLIC_AGENT_API_URL=http://localhost:28003
